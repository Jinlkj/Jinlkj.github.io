# 设计模式

## 设计模式应用方法论

**目标**：可拓展、好理解、维护成本低

**理解业务**：业务背景、变化因素、稳定因素

**问题划分**：构建问题、结构问题、行为问题

**选择模式**：具体模式、多模式协同

**定制优化**：适配业务、深度改造

**持续演进、小步快跑、遵循设计原则**

## 设计模式基本原则

里氏替换原则、单一职责原则、接口隔离原则、组合复用原则、依赖反转原则、迪米特法则、开闭原则

### 适配器模式

适用场景：需要用到一个已存在的类或接口，但是它的定义和当前需要的接口定义不一样

对于底层依赖，主动增加适配器，可以隔离底层的变动

### 代理模式

适用场景：对目标的访问行为加一层控制和拦截；优点是将控制逻辑和业务逻辑隔离。例如：系统权限控制、mapi、spring aop动态代理

### 装饰器模式

适用场景：需要为现有的对象增加额外的职责、需要动态地添加行为或状态

### 代理模式和装饰器模式对比

目的性不同，代理是控制，装饰是附加

实现上有点区别，代理一般就一层，装饰器一般会嵌套

代理模式不要求同源，装饰器模式要求同源

客户端是不能访问被代理类的。由代理类决定被代理对象是什么，而装饰对象是可以被访问的，客户端决定装饰哪个对象

### 组合模式

适用场景：需要表示多个对象，且对象具有相互嵌套的关系，嵌套的层级深度是不固定的

不管哪一层级，所有对象包含的方法都类似

需要能通过递归遍历所有对象



